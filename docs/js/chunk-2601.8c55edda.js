(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2601"],{2414:function(t,a,e){},"3e25":function(t,a,e){"use strict";var n=e("3f32"),c=e.n(n);c.a},"3f32":function(t,a,e){},"5d70":function(t,a,e){"use strict";e.r(a);var n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"accounts"},[e("page-header",{attrs:{pageTitle:"Accounts",subTitle:"Add an account to the system"}}),e("div",{staticClass:"container hero-body"},[e("div",{staticClass:"columns"},[e("div",{staticClass:"column"},[e("div",{staticClass:"section"},[e("h2",{staticClass:"title"},[t._v("Add a new account")]),e("form",{on:{submit:function(a){return a.preventDefault(),t.addAccount(a)}}},[e("div",{staticClass:"field"},[e("label",{staticClass:"label",attrs:{for:"newAccountId"}},[t._v("Account ID")]),e("div",{staticClass:"control"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.newAccount.id,expression:"newAccount.id"}],staticClass:"input",attrs:{type:"text",name:"newAccountId"},domProps:{value:t.newAccount.id},on:{keyup:t.formUpdated,input:function(a){a.target.composing||t.$set(t.newAccount,"id",a.target.value)}}})]),e("p",{directives:[{name:"show",rawName:"v-show",value:t.accountInvalid,expression:"accountInvalid"}],staticClass:"help is-danger"},[t._v("An account with the above username, platform, and region cannot be found. Please double check capitalization and, region, and platform.")]),e("p",{directives:[{name:"show",rawName:"v-show",value:t.accountAlreadyAdded,expression:"accountAlreadyAdded"}],staticClass:"help is-danger"},[t._v("This account has already been added. You can only add an account once.")])]),e("div",{staticClass:"field"},[e("label",{staticClass:"label",attrs:{for:"newAccountPlatform"}},[t._v("Platform")]),e("div",{staticClass:"control"},[e("div",{staticClass:"select"},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.newAccount.platform,expression:"newAccount.platform"}],staticClass:"select",attrs:{name:"newAccountPlatform"},on:{change:[function(a){var e=Array.prototype.filter.call(a.target.options,function(t){return t.selected}).map(function(t){var a="_value"in t?t._value:t.value;return a});t.$set(t.newAccount,"platform",a.target.multiple?e:e[0])},t.formUpdated]}},[e("option",{attrs:{value:"psn"}},[t._v("Playstation")]),e("option",{attrs:{value:"xbl"}},[t._v("XBox")]),e("option",{attrs:{value:"pc"}},[t._v("PC")])])])])]),e("div",{staticClass:"field"},[e("label",{staticClass:"label",attrs:{for:"newAccountRegion"}},[t._v("Region")]),e("div",{staticClass:"control"},[e("div",{staticClass:"select"},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.newAccount.region,expression:"newAccount.region"}],staticClass:"select",attrs:{name:"newAccountRegion"},on:{change:[function(a){var e=Array.prototype.filter.call(a.target.options,function(t){return t.selected}).map(function(t){var a="_value"in t?t._value:t.value;return a});t.$set(t.newAccount,"region",a.target.multiple?e:e[0])},t.formUpdated]}},[e("option",{attrs:{value:"us"}},[t._v("US")]),e("option",{attrs:{value:"eu"}},[t._v("Europe")]),e("option",{attrs:{value:"asia"}},[t._v("Asia")])])])])]),e("div",{staticClass:"field"},[e("div",{staticClass:"control"},[e("button",{staticClass:"button is-primary",attrs:{disabled:t.formIsDisabled}},[t._v("Add Account")])])])])])]),e("div",{staticClass:"column"},[e("div",{staticClass:"section"},[e("h3",{staticClass:"title"},[t._v("Accounts")]),e("ul",t._l(t.accounts,function(t){return e("li",{key:t.name},[e("account-teaser",{attrs:{account:t,includeLink:!0}})],1)}))])])])])],1)},c=[],s=(e("cadf"),e("551c"),e("097d"),e("8ae6")),o=e("c62e"),i=e("6e30"),r={components:{AccountTeaser:o["a"],PageHeader:i["a"]},data:function(){return{newAccount:{id:"",platform:"psn",region:"us"},waitingForResponse:!1,accountInvalid:!1,accountAlreadyAdded:!1,accounts:this.$store.state.accounts}},computed:{formIsDisabled:function(){return this.waitingForResponse||this.accountInvalid||this.accountAlreadyAdded}},methods:{addAccount:function(){var t=this;this.waitingForResponse=!0,s["a"].getProfile(this.newAccount.id,this.newAccount.platform,this.newAccount.region).then(function(a){a.data.hasOwnProperty("error")?(t.waitingForResponse=!1,t.accountInvalid=!0):t.$store.getters.getAccountById(t.newAccount.id)?(t.waitingForResponse=!1,t.accountAlreadyAdded=!0):(a.data.lastUpdated=new Date,a.data.region=t.newAccount.region,a.data.platform=t.newAccount.platform,t.$store.commit("addAccount",a.data),t.newAccount.id="",t.waitingForResponse=!1)})},formUpdated:function(){this.accountInvalid=!1,this.accountAlreadyAdded=!1}}},l=r,u=(e("a1eb"),e("2877")),d=Object(u["a"])(l,n,c,!1,null,null,null);d.options.__file="Accounts.vue";a["default"]=d.exports},"8ae6":function(t,a,e){"use strict";var n=e("c665"),c=e("aa9a"),s=e("bc3a"),o=e.n(s),i=function(){function t(){Object(n["a"])(this,t)}return Object(c["a"])(t,null,[{key:"getProfile",value:function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"psn",e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"us",n="https://ow-api.com/v1/stats/".concat(a,"/").concat(e,"/").concat(t,"/profile");return o.a.get(n)}}]),t}();a["a"]=i},a1eb:function(t,a,e){"use strict";var n=e("2414"),c=e.n(n);c.a},c62e:function(t,a,e){"use strict";var n=function(){var t,a=this,e=a.$createElement,n=a._self._c||e;return n("div",{class:(t={"account-teaser":!0},t["tier-"+a.prestigeTier]=!0,t)},[n("div",{staticClass:"account-avatar-wrapper"},[n("div",{staticClass:"account-avatar"},[n("div",{staticClass:"account-icon"},[n("img",{attrs:{src:a.account.icon,alt:"Account icon"}}),n("div",{staticClass:"mask-top"}),n("div",{staticClass:"mask-bottom"})]),n("div",{staticClass:"account-icon-frame"},[n("img",{staticClass:"account-level-icon",attrs:{src:a.account.levelIcon,alt:"Level icon"}}),n("img",{staticClass:"account-prestige-icon",attrs:{src:a.account.prestigeIcon,alt:"Presitge icon"}})]),n("div",{staticClass:"avatar-account-level"},[a._v(a._s(a.account.level))])])]),n("div",{staticClass:"account-name"},[n("h4",[a._v(a._s(a.account.name)+" "),n("span",{staticClass:"account-level"},[a._v("("+a._s(100*a.account.prestige+a.account.level)+")")])]),n("p",{directives:[{name:"show",rawName:"v-show",value:a.includeLink,expression:"includeLink"}]},[n("router-link",{attrs:{to:{name:"account",params:{id:a.account.name}}}},[a._v("Go to detail page")])],1)])])},c=[],s={props:["account","includeLink"],computed:{prestigeTier:function(){switch(Math.floor(this.account.prestige/6)){case 0:return"bronze";case 1:return"silver";case 2:return"gold";case 3:return"plat";default:return"none"}}}},o=s,i=(e("3e25"),e("2877")),r=Object(i["a"])(o,n,c,!1,null,null,null);r.options.__file="AccountTeaser.vue";a["a"]=r.exports}}]);
//# sourceMappingURL=chunk-2601.8c55edda.js.map